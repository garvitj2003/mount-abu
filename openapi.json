{"openapi":"3.1.0","info":{"title":"Mount Abu E-Token System","version":"0.1.0"},"paths":{"/auth/send-otp":{"post":{"tags":["Auth"],"summary":"Send Otp","operationId":"send_otp_auth_send_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login/otp":{"post":{"tags":["Auth"],"summary":"Login With Otp","operationId":"login_with_otp_auth_login_otp_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__controllers__auth__TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login/password":{"post":{"tags":["Auth"],"summary":"Login With Password","operationId":"login_with_password_auth_login_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__controllers__auth__TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"tags":["Auth"],"summary":"Refresh Access Token","description":"Exchange a valid refresh token for a new access token.\n\nThe refresh token itself is NOT rotated - it remains valid until its 90-day expiry.\nOnly a new access token (30 min expiry) is returned.","operationId":"refresh_access_token_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["Auth"],"summary":"Get Me","description":"Return the authenticated user's profile.\nUseful for validating the auth flow end-to-end.","operationId":"get_me_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/auth/debug-token":{"get":{"tags":["Auth"],"summary":"Debug Token","description":"DEBUG ONLY: Decode the token and return detailed info about what's wrong.\nRemove this endpoint in production.","operationId":"debug_token_auth_debug_token_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/superadmin/setup":{"post":{"tags":["SuperAdmin"],"summary":"Create Initial Superadmin","description":"Creates a superadmin if one does not exist (by username).\nPublic endpoint for initial setup.","operationId":"create_initial_superadmin_superadmin_setup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetupSuperAdminRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__schemas__response__meta__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/superadmin/users":{"post":{"tags":["SuperAdmin"],"summary":"Create User","description":"Superadmin can create new users with some role.","operationId":"create_user_superadmin_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreatedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/superadmin/change-password":{"post":{"tags":["SuperAdmin"],"summary":"Change Password","description":"Superadmin can change the password of a user.","operationId":"change_password_superadmin_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/backend__schemas__response__meta__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/applications":{"post":{"tags":["Applications"],"summary":"Create Application","description":"Create a new application.","operationId":"create_application_api_applications_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Applications"],"summary":"Get Applications","description":"Get applications filtered by flag.","operationId":"get_applications_api_applications_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"flag","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ApplicationFlags","description":"Filter applications by workflow flag"},"description":"Filter applications by workflow flag"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"citizen_user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Citizen user ID (required when flag=CITIZEN)","title":"Citizen User Id"},"description":"Citizen user ID (required when flag=CITIZEN)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApplicationResponse"},"title":"Response Get Applications Api Applications Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/document":{"post":{"tags":["Applications"],"summary":"Upload Document","description":"Upload a document for an application.","operationId":"upload_document_api_applications__application_id__document_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_applications__application_id__document_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Applications"],"summary":"Delete Document","description":"Delete a document from an application.","operationId":"delete_document_api_applications__application_id__document_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/materials":{"post":{"tags":["Applications"],"summary":"Add Materials","description":"Add materials to an existing application.","operationId":"add_materials_api_applications__application_id__materials_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApplicationMaterialRequirements"},"title":"Materials"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}":{"get":{"tags":["Applications"],"summary":"Get Application","description":"Get a specific application by ID.","operationId":"get_application_api_applications__application_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}},{"name":"request_user_data","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Request User Data"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/ApplicationResponse"},{"type":"null"}],"title":"Response Get Application Api Applications  Application Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Applications"],"summary":"Delete Application","description":"Delete an application.","operationId":"delete_application_api_applications__application_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/submit":{"put":{"tags":["Applications"],"summary":"Submit Application","description":"Submit an application (PENDING -> SUBMITTED).\n\nOnly the owning CITIZEN can submit. Validates that AADHAAR,\nPERMISSION_DOCUMENTS and OWNERSHIP_DOCUMENTS are attached.","operationId":"submit_application_api_applications__application_id__submit_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/withdraw":{"post":{"tags":["Applications"],"summary":"Withdraw Application","description":"Withdraw an application.\n\nOnly the owning CITIZEN can withdraw.\nAllowed only if status is PENDING or SUBMITTED.","operationId":"withdraw_application_api_applications__application_id__withdraw_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/action":{"put":{"tags":["Applications"],"summary":"Workflow Action","description":"Execute a workflow action on an application.\n\nActions: APPROVE, REJECT, OBJECT, FORWARD, GENERATE_TOKENS.\nThe state machine validates the transition based on current status,\napplication type, and the caller's role.","operationId":"workflow_action_api_applications__application_id__action_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/inspection":{"post":{"tags":["Applications"],"summary":"Create Inspection","description":"JEN creates a site inspection report.","operationId":"create_inspection_api_applications__application_id__inspection_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InspectionReportCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/phases":{"get":{"tags":["Applications"],"summary":"Get Phases","description":"Get all phases for an application.","operationId":"get_phases_api_applications__application_id__phases_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PhaseResponse"},"title":"Response Get Phases Api Applications  Application Id  Phases Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/phases/{phase}/complete":{"put":{"tags":["Applications"],"summary":"Complete Phase","description":"Mark a phase as completed and activate the next one.","operationId":"complete_phase_api_applications__application_id__phases__phase__complete_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}},{"name":"phase","in":"path","required":true,"schema":{"type":"integer","title":"Phase"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/comment":{"put":{"tags":["Applications"],"summary":"Comment On Application","description":"Add a comment to an application. Any authority or the applicant can comment.","operationId":"comment_on_application_api_applications__application_id__comment_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/comments":{"get":{"tags":["Applications"],"summary":"Get Application Comments","description":"Get all comments for an application.","operationId":"get_application_comments_api_applications__application_id__comments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponse"},"title":"Response Get Application Comments Api Applications  Application Id  Comments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tokens":{"get":{"tags":["Applications"],"summary":"List Tokens","description":"List tokens (approved application phases) for the current citizen.\n\nReturns tokens with computed fields:\n- token_number (e.g. TKN-2025-014)\n- application_number (e.g. APP-2025-00321)\n- remaining_quantity_pct (overall remaining material %)\n- valid_till (activation date + 60 days)\n- materials breakdown with approved/consumed/remaining quantities\n\nSupports filtering by status (ACTIVE, PENDING, COMPLETED) and\nsearching by token or application number.","operationId":"list_tokens_api_tokens_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by token status: ACTIVE, PENDING, COMPLETED","title":"Status"},"description":"Filter by token status: ACTIVE, PENDING, COMPLETED"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by token number or application number","title":"Search"},"description":"Search by token number or application number"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TokenResponse"},"title":"Response List Tokens Api Tokens Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/applications/{application_id}/tokens":{"get":{"tags":["Applications"],"summary":"Get Application Tokens","description":"Get all tokens for a specific application with material summaries.","operationId":"get_application_tokens_api_applications__application_id__tokens_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"application_id","in":"path","required":true,"schema":{"type":"integer","title":"Application Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TokenResponse"},"title":"Response Get Application Tokens Api Applications  Application Id  Tokens Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tokens/{transport_code}":{"get":{"tags":["Applications"],"summary":"Get Token Detail","description":"Get full token details by transport code.\n\nReturns everything needed for the Token Detail screen:\n- Token header: token_number, status, valid date range\n- Application info: applicant name, property address, usage, type\n- Authority info: issued by, issued on, token generated from\n- Material summary: per-material approved/consumed/remaining\n- Vehicle entries: all naka checkpoint entries with vehicle, material, qty, date","operationId":"get_token_detail_api_tokens__transport_code__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transport_code","in":"path","required":true,"schema":{"type":"string","title":"Transport Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master/wards":{"get":{"tags":["Master Data","Master Data"],"summary":"List Wards","operationId":"list_wards_api_master_wards_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/WardResponse"},"type":"array","title":"Response List Wards Api Master Wards Get"}}}}}},"post":{"tags":["Master Data","Master Data"],"summary":"Create Ward","operationId":"create_ward_api_master_wards_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WardCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/master/wards/{ward_id}":{"put":{"tags":["Master Data","Master Data"],"summary":"Update Ward","operationId":"update_ward_api_master_wards__ward_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ward_id","in":"path","required":true,"schema":{"type":"integer","title":"Ward Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WardUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master/departments":{"get":{"tags":["Master Data","Master Data"],"summary":"List Departments","operationId":"list_departments_api_master_departments_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DepartmentResponse"},"type":"array","title":"Response List Departments Api Master Departments Get"}}}}}},"post":{"tags":["Master Data","Master Data"],"summary":"Create Department","operationId":"create_department_api_master_departments_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/master/departments/{dept_id}":{"put":{"tags":["Master Data","Master Data"],"summary":"Update Department","operationId":"update_department_api_master_departments__dept_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dept_id","in":"path","required":true,"schema":{"type":"integer","title":"Dept Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master/roles":{"get":{"tags":["Master Data","Master Data"],"summary":"List Roles","operationId":"list_roles_api_master_roles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RoleResponse"},"type":"array","title":"Response List Roles Api Master Roles Get"}}}}}},"post":{"tags":["Master Data","Master Data"],"summary":"Create Role","operationId":"create_role_api_master_roles_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/master/roles/{role_id}":{"put":{"tags":["Master Data","Master Data"],"summary":"Update Role","operationId":"update_role_api_master_roles__role_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master/complaint-categories":{"get":{"tags":["Master Data","Master Data"],"summary":"List Complaint Categories","operationId":"list_complaint_categories_api_master_complaint_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ComplaintCategoryResponse"},"type":"array","title":"Response List Complaint Categories Api Master Complaint Categories Get"}}}}}},"post":{"tags":["Master Data","Master Data"],"summary":"Create Complaint Category","operationId":"create_complaint_category_api_master_complaint_categories_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCategoryCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCategoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/master/complaint-categories/{category_id}":{"put":{"tags":["Master Data","Master Data"],"summary":"Update Complaint Category","operationId":"update_complaint_category_api_master_complaint_categories__category_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"integer","title":"Category Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCategoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCategoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master/materials":{"get":{"tags":["Master Data","Master Data"],"summary":"List Materials","operationId":"list_materials_api_master_materials_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/MaterialResponse"},"type":"array","title":"Response List Materials Api Master Materials Get"}}}}}},"post":{"tags":["Master Data","Master Data"],"summary":"Create Material","operationId":"create_material_api_master_materials_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/media/upload":{"post":{"tags":["Media"],"summary":"Upload Media","description":"Upload a file directly through the backend (proxied to MinIO).\n\nThe file is stored in MinIO **and** linked to the relevant database\nentity (application document, complaint media, etc.).","operationId":"upload_media_api_media_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_media_api_media_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/media/presigned-url":{"post":{"tags":["Media"],"summary":"Generate Presigned Url","description":"Generate a presigned upload URL (for server-to-server or same-network use).\n\nNOTE: The presigned URL points to MinIO's internal Docker hostname.\nFor external/browser uploads, use POST /api/media/upload instead.","operationId":"generate_presigned_url_api_media_presigned_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignedUrlRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignedUrlResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/media/file/{file_path}":{"get":{"tags":["Media"],"summary":"Download File","description":"Proxy file download from MinIO through the backend.\n\nURLs are generated by the backend with a signed token valid for 3 hours.\nNo direct MinIO access is needed by clients.","operationId":"download_file_api_media_file__file_path__get","parameters":[{"name":"file_path","in":"path","required":true,"schema":{"type":"string","title":"File Path"}},{"name":"token","in":"query","required":true,"schema":{"type":"string","description":"HMAC-signed download token","title":"Token"},"description":"HMAC-signed download token"},{"name":"expires","in":"query","required":true,"schema":{"type":"integer","description":"Token expiry (unix timestamp)","title":"Expires"},"description":"Token expiry (unix timestamp)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/downloads":{"post":{"tags":["Downloads"],"summary":"Create Download","operationId":"create_download_api_downloads_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_download_api_downloads_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Downloads"],"summary":"List Downloads","operationId":"list_downloads_api_downloads_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/downloads/{download_id}":{"get":{"tags":["Downloads"],"summary":"Get Download","operationId":"get_download_api_downloads__download_id__get","parameters":[{"name":"download_id","in":"path","required":true,"schema":{"type":"integer","title":"Download Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Downloads"],"summary":"Update Download","operationId":"update_download_api_downloads__download_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"download_id","in":"path","required":true,"schema":{"type":"integer","title":"Download Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Downloads"],"summary":"Delete Download","operationId":"delete_download_api_downloads__download_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"download_id","in":"path","required":true,"schema":{"type":"integer","title":"Download Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notices":{"post":{"tags":["Notices"],"summary":"Create Notice","operationId":"create_notice_api_notices_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticeCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Notices"],"summary":"List Notices","operationId":"list_notices_api_notices_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notices/{notice_id}":{"get":{"tags":["Notices"],"summary":"Get Notice","operationId":"get_notice_api_notices__notice_id__get","parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer","title":"Notice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Notices"],"summary":"Update Notice","operationId":"update_notice_api_notices__notice_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer","title":"Notice Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticeUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoticeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Notices"],"summary":"Delete Notice","operationId":"delete_notice_api_notices__notice_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer","title":"Notice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenders":{"post":{"tags":["Tenders"],"summary":"Create Tender","operationId":"create_tender_api_tenders_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Tenders"],"summary":"List Tenders","operationId":"list_tenders_api_tenders_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TendersListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenders/{tender_id}":{"get":{"tags":["Tenders"],"summary":"Get Tender","operationId":"get_tender_api_tenders__tender_id__get","parameters":[{"name":"tender_id","in":"path","required":true,"schema":{"type":"integer","title":"Tender Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Tenders"],"summary":"Update Tender","operationId":"update_tender_api_tenders__tender_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tender_id","in":"path","required":true,"schema":{"type":"integer","title":"Tender Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Tenders"],"summary":"Delete Tender","operationId":"delete_tender_api_tenders__tender_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tender_id","in":"path","required":true,"schema":{"type":"integer","title":"Tender Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/events":{"post":{"tags":["Events"],"summary":"Create Event","operationId":"create_event_api_events_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Events"],"summary":"List Events","operationId":"list_events_api_events_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/events/{event_id}":{"get":{"tags":["Events"],"summary":"Get Event","operationId":"get_event_api_events__event_id__get","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Events"],"summary":"Update Event","operationId":"update_event_api_events__event_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Events"],"summary":"Delete Event","operationId":"delete_event_api_events__event_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/leaders":{"post":{"tags":["Leaders"],"summary":"Create Leader","operationId":"create_leader_api_leaders_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Leaders"],"summary":"List Leaders","operationId":"list_leaders_api_leaders_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeadersListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/leaders/{leader_id}":{"get":{"tags":["Leaders"],"summary":"Get Leader","operationId":"get_leader_api_leaders__leader_id__get","parameters":[{"name":"leader_id","in":"path","required":true,"schema":{"type":"integer","title":"Leader Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Leaders"],"summary":"Update Leader","operationId":"update_leader_api_leaders__leader_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"leader_id","in":"path","required":true,"schema":{"type":"integer","title":"Leader Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Leaders"],"summary":"Delete Leader","operationId":"delete_leader_api_leaders__leader_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"leader_id","in":"path","required":true,"schema":{"type":"integer","title":"Leader Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/my":{"get":{"tags":["Complaints"],"summary":"Get My Complaints","description":"Get complaints filed by the authenticated citizen.","operationId":"get_my_complaints_api_complaints_my_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ComplaintStatus"},{"type":"null"}],"description":"Filter by complaint status","title":"Status"},"description":"Filter by complaint status"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints":{"get":{"tags":["Complaints"],"summary":"Get All Complaints","description":"Get all complaints (authority side). Accessible by non-citizen roles.","operationId":"get_all_complaints_api_complaints_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ComplaintStatus"},{"type":"null"}],"description":"Filter by complaint status","title":"Status"},"description":"Filter by complaint status"},{"name":"ward_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by ward","title":"Ward Id"},"description":"Filter by ward"},{"name":"department_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by department","title":"Department Id"},"description":"Filter by department"},{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by complaint category","title":"Category Id"},"description":"Filter by complaint category"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Complaints"],"summary":"Create Complaint","operationId":"create_complaint_api_complaints_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/{id}":{"get":{"tags":["Complaints"],"summary":"Get Complaint","operationId":"get_complaint_api_complaints__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/{id}/comments":{"post":{"tags":["Complaints"],"summary":"Add Comment","operationId":"add_comment_api_complaints__id__comments_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/{id}/media":{"post":{"tags":["Complaints"],"summary":"Add Media To Complaint","operationId":"add_media_to_complaint_api_complaints__id__media_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintMediaAddRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints/{id}/withdraw":{"post":{"tags":["Complaints"],"summary":"Withdraw Complaint","description":"Withdraw a complaint.\n\nOnly the owning user can withdraw.\nAllowed only if status is PENDING.","operationId":"withdraw_complaint_api_complaints__id__withdraw_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/naka/{transport_code}":{"get":{"tags":["Naka"],"summary":"Get Naka Phase Summary","description":"Get material summary for a phase. No PII is returned.","operationId":"get_naka_phase_summary_api_naka__transport_code__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transport_code","in":"path","required":true,"schema":{"type":"string","title":"Transport Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NakaPhaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/naka/{transport_code}/entry":{"post":{"tags":["Naka"],"summary":"Create Naka Entry By Code","description":"Log a material entry at the naka checkpoint using a transport code.","operationId":"create_naka_entry_by_code_api_naka__transport_code__entry_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transport_code","in":"path","required":true,"schema":{"type":"string","title":"Transport Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NakaEntryCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/citizen":{"get":{"tags":["Dashboard"],"summary":"Get Citizen Dashboard","description":"Return aggregated dashboard data for the logged-in citizen.\n\nShows the user's own applications, complaints, material usage,\nand phase-wise token information.","operationId":"get_citizen_dashboard_api_dashboard_citizen_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CitizenDashboardResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/dashboard/authority":{"get":{"tags":["Dashboard"],"summary":"Get Authority Dashboard","description":"Return role-specific dashboard analytics for authority users.\n\nThe response payload varies by role:\n- **Super Admin / Dept heads**: KPIs, application-status donut,\n  complaints-by-category bar, ward-wise activity bar + table.\n- **JEN**: assigned/verified/pending KPIs, verification status,\n  avg verification time trend, latest 5 applications.\n- **Naka Incharge**: total entries KPI, entries-by-naka bar,\n  vehicle entry list.\n- **Commissioner (Complaint Officer)**: received/resolved/pending KPIs,\n  complaints-by-category bar, resolution-status donut, complaint list.\n- **Nodal Officer**: tokens generated/utilized KPIs, token-status donut,\n  material approved-vs-used bar, token utilization list.\n\nQuery parameters ``days``, ``department_id``, ``ward_id`` apply to\nSuper Admin / Dept-head dashboards only.","operationId":"get_authority_dashboard_api_dashboard_authority_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Period in days for KPI comparison","default":7,"title":"Days"},"description":"Period in days for KPI comparison"},{"name":"department_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by department","title":"Department Id"},"description":"Filter by department"},{"name":"ward_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by ward","title":"Ward Id"},"description":"Filter by ward"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorityDashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/city-profile/":{"get":{"tags":["City Profile","City Profile"],"summary":"Get Latest City Profile","operationId":"get_latest_city_profile_api_city_profile__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityProfileResponse"}}}}}},"put":{"tags":["City Profile","City Profile"],"summary":"Update City Profile","operationId":"update_city_profile_api_city_profile__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["City Profile","City Profile"],"summary":"Create City Profile","operationId":"create_city_profile_api_city_profile__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityProfileCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/city-profile/history":{"get":{"tags":["City Profile","City Profile"],"summary":"List Profile History","operationId":"list_profile_history_api_city_profile_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CityProfileResponse"},"type":"array","title":"Response List Profile History Api City Profile History Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/users":{"get":{"tags":["User Management"],"summary":"List Users","description":"List users based on the filter.\nOnly SUPERADMIN, NODAL_OFFICER, and COMMISSIONER can access this.","operationId":"list_users_api_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"filter","in":"query","required":true,"schema":{"$ref":"#/components/schemas/UserFilter","description":"Filter users by type (CITIZEN or OFFICIAL)"},"description":"Filter users by type (CITIZEN or OFFICIAL)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response List Users Api Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ApplicationCreate":{"properties":{"applicant_name":{"type":"string","title":"Applicant Name","description":"Applicant Name (As per Aadhar)"},"father_name":{"type":"string","title":"Father Name","description":"Father's Name (As per Aadhar)"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email","description":"Email Address"},"current_address":{"type":"string","title":"Current Address","description":"Current Address"},"property_address":{"type":"string","title":"Property Address","description":"Property Address"},"title":{"type":"string","title":"Title","description":"Application Title"},"work_description":{"type":"string","title":"Work Description","description":"Work Description"},"contractor_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contractor Name","description":"Contractor Name"},"is_agriculture_land":{"type":"boolean","title":"Is Agriculture Land","description":"Is property on agriculture land?"},"property_usage":{"$ref":"#/components/schemas/PropertyUsageType","description":"Property Usage Type"},"department_id":{"type":"integer","title":"Department Id","description":"Selected Department ID"},"ward_id":{"type":"integer","title":"Ward Id","description":"Ward/Zone ID"},"type":{"$ref":"#/components/schemas/ApplicationType","description":"Application Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Application Description"},"material_requirements":{"items":{"$ref":"#/components/schemas/ApplicationMaterialRequirements"},"type":"array","title":"Material Requirements","description":"Application Material Requirements"}},"type":"object","required":["applicant_name","father_name","current_address","property_address","title","work_description","is_agriculture_land","property_usage","department_id","ward_id","type","material_requirements"],"title":"ApplicationCreate"},"ApplicationDocumentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"document_path":{"type":"string","title":"Document Path"},"document_type":{"$ref":"#/components/schemas/ApplicationDocumentType"},"document_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Name"},"access_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Url"}},"type":"object","required":["id","document_path","document_type","document_name"],"title":"ApplicationDocumentResponse"},"ApplicationDocumentType":{"type":"string","enum":["APPLICATION","INSPECTION","OTHER","AADHAAR","APPLICANT_PHOTO","OWNERSHIP_DOCUMENTS","PERMISSION_DOCUMENTS","PROPERTY_PHOTOS","SUPPORTING_DOCUMENTS","SITE_INSPECTION","GEO_TAGGED_PHOTO"],"title":"ApplicationDocumentType","description":"..."},"ApplicationFlags":{"type":"string","enum":["ALL","CITIZEN","OBJECTED_CITIZEN_ACTION","NEW_APPLICATION_REQUIRES_NODAL_OFFICER_ACTION","NEW_APPLICATION_REQUIRES_JEN_INSPECTION","NEW_APPLICATION_REQUIRES_JEN_FIELD_INSPECTION","NEW_APPLICATION_REQUIRES_JEN_MATERIAL_ENTRY","NEW_APPLICATION_REQUIRES_NODAL_OFFICER_TOKEN_GENERATION","RENOVATION_REQUIRES_COMMISSIONER_FORWARD","RENOVATION_REQUIRES_DEPT_COMMENT","RENOVATION_REQUIRES_JEN_FIELD_INSPECTION","RENOVATION_REQUIRES_JEN_MATERIAL_ENTRY","RENOVATION_REQUIRES_COMMISSIONER_ACTION","RENOVATION_REQUIRES_NODAL_OFFICER_ACTION","RENOVATION_REQUIRES_NODAL_OFFICER_TOKEN_GENERATION","RENOVATION_REQUIRES_NODAL_OFFICER_APPROVAL_PHASE_1","RENOVATION_REQUIRES_NODAL_OFFICER_APPROVAL_PHASE_2","RENOVATION_REQUIRES_NODAL_OFFICER_APPROVAL_PHASE_3","RENOVATION_REQUIRES_NODAL_OFFICER_APPROVAL_PHASE_4","RENOVATION_REQUIRES_NODAL_OFFICER_APPROVAL_PHASE_5","RENOVATION_OVERDUE_COMMENTS","RENOVATION_OVERDUE_COMMENTS_JEN","RENOVATION_OVERDUE_COMMENTS_ATP","RENOVATION_OVERDUE_COMMENTS_LAND","RENOVATION_OVERDUE_COMMENTS_LEGAL","PHASE_READY_FOR_NAKA","NAKA_INCHARGE_ACTION"],"title":"ApplicationFlags"},"ApplicationMaterialRequirements":{"properties":{"material_id":{"type":"integer","title":"Material Id","description":"Material ID"},"material_qty":{"type":"integer","title":"Material Qty","description":"Material Quantity"}},"type":"object","required":["material_id","material_qty"],"title":"ApplicationMaterialRequirements"},"ApplicationMaterialResponse":{"properties":{"id":{"type":"integer","title":"Id"},"material_id":{"type":"integer","title":"Material Id"},"quantity":{"type":"integer","title":"Quantity"}},"type":"object","required":["id","material_id","quantity"],"title":"ApplicationMaterialResponse","description":"Response schema for application materials."},"ApplicationPhaseStatus":{"type":"string","enum":["PENDING","ACTIVE","APPROVED","WITHHELD","REJECTED","TERMINATED","IN_PROGRESS","COMPLETED"],"title":"ApplicationPhaseStatus"},"ApplicationResponse":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"applicant_name":{"type":"string","title":"Applicant Name"},"father_name":{"type":"string","title":"Father Name"},"mobile":{"type":"string","title":"Mobile"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"current_address":{"type":"string","title":"Current Address"},"property_address":{"type":"string","title":"Property Address"},"title":{"type":"string","title":"Title"},"work_description":{"type":"string","title":"Work Description"},"contractor_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contractor Name"},"is_agriculture_land":{"type":"boolean","title":"Is Agriculture Land"},"property_usage":{"$ref":"#/components/schemas/PropertyUsageType"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"ward_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ward Id"},"ward_zone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ward Zone"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"$ref":"#/components/schemas/ApplicationStatus"},"type":{"$ref":"#/components/schemas/ApplicationType"},"num_stages":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Stages"},"documents":{"items":{"$ref":"#/components/schemas/ApplicationDocumentResponse"},"type":"array","title":"Documents","default":[]},"materials":{"items":{"$ref":"#/components/schemas/ApplicationMaterialResponse"},"type":"array","title":"Materials","default":[]},"comments":{"items":{"$ref":"#/components/schemas/CommentResponse"},"type":"array","title":"Comments","default":[]},"tokens":{"items":{"$ref":"#/components/schemas/TokenResponse"},"type":"array","title":"Tokens","default":[]}},"type":"object","required":["id","user_id","applicant_name","father_name","mobile","email","current_address","property_address","title","work_description","contractor_name","is_agriculture_land","property_usage","department_id","ward_id","status","type","num_stages"],"title":"ApplicationResponse","description":"Application Response Schema."},"ApplicationStatus":{"type":"string","enum":["PENDING","SUBMITTED","APPROVED","FORWARDED","WITHHELD","OBJECTED","REJECTED","TOKEN_GENERATED","WITHDRAWN"],"title":"ApplicationStatus"},"ApplicationType":{"type":"string","enum":["NEW","RENOVATION"],"title":"ApplicationType"},"AuthorityDashboardResponse":{"properties":{"role":{"type":"string","title":"Role","description":"Role of the requesting user"},"kpis":{"items":{"$ref":"#/components/schemas/KpiCard"},"type":"array","title":"Kpis","default":[]},"application_status_breakdown":{"anyOf":[{"items":{"$ref":"#/components/schemas/StatusCount"},"type":"array"},{"type":"null"}],"title":"Application Status Breakdown"},"complaints_by_category":{"anyOf":[{"items":{"$ref":"#/components/schemas/CategoryCount"},"type":"array"},{"type":"null"}],"title":"Complaints By Category"},"ward_activity":{"anyOf":[{"items":{"$ref":"#/components/schemas/WardActivity"},"type":"array"},{"type":"null"}],"title":"Ward Activity"},"verification_status":{"anyOf":[{"items":{"$ref":"#/components/schemas/StatusCount"},"type":"array"},{"type":"null"}],"title":"Verification Status"},"avg_verification_time_trend":{"anyOf":[{"items":{"$ref":"#/components/schemas/AvgVerificationTimeTrend"},"type":"array"},{"type":"null"}],"title":"Avg Verification Time Trend"},"latest_applications":{"anyOf":[{"items":{"$ref":"#/components/schemas/JenApplicationRow"},"type":"array"},{"type":"null"}],"title":"Latest Applications"},"entries_by_naka":{"anyOf":[{"items":{"$ref":"#/components/schemas/EntriesByNaka"},"type":"array"},{"type":"null"}],"title":"Entries By Naka"},"vehicle_entry_list":{"anyOf":[{"items":{"$ref":"#/components/schemas/NakaEntryRow"},"type":"array"},{"type":"null"}],"title":"Vehicle Entry List"},"complaint_resolution_status":{"anyOf":[{"items":{"$ref":"#/components/schemas/StatusCount"},"type":"array"},{"type":"null"}],"title":"Complaint Resolution Status"},"complaint_list":{"anyOf":[{"items":{"$ref":"#/components/schemas/ComplaintRow"},"type":"array"},{"type":"null"}],"title":"Complaint List"},"token_status":{"anyOf":[{"items":{"$ref":"#/components/schemas/StatusCount"},"type":"array"},{"type":"null"}],"title":"Token Status"},"material_approved_vs_used":{"anyOf":[{"items":{"$ref":"#/components/schemas/MaterialBar"},"type":"array"},{"type":"null"}],"title":"Material Approved Vs Used"},"token_utilization_list":{"anyOf":[{"items":{"$ref":"#/components/schemas/TokenUtilizationRow"},"type":"array"},{"type":"null"}],"title":"Token Utilization List"}},"type":"object","required":["role"],"title":"AuthorityDashboardResponse","description":"Combined authority dashboard payload.\n\nSections are **Optional**  only the ones relevant to the caller's role\nare populated; the rest stay ``None``."},"AvgVerificationTimeTrend":{"properties":{"period":{"type":"string","title":"Period"},"avg_hours":{"type":"number","title":"Avg Hours","default":0.0}},"type":"object","required":["period"],"title":"AvgVerificationTimeTrend","description":"Average verification turnaround bucket (for line chart)."},"Body_create_download_api_downloads_post":{"properties":{"document_title":{"type":"string","title":"Document Title"},"document_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Type"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/DownloadStatus"},{"type":"null"}],"default":"ACTIVE"},"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["document_title","file"],"title":"Body_create_download_api_downloads_post"},"Body_upload_document_api_applications__application_id__document_post":{"properties":{"document":{"type":"string","format":"binary","title":"Document"},"document_type":{"$ref":"#/components/schemas/ApplicationDocumentType"}},"type":"object","required":["document","document_type"],"title":"Body_upload_document_api_applications__application_id__document_post"},"Body_upload_media_api_media_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"category":{"$ref":"#/components/schemas/MediaCategory","default":"APPLICATION"},"entity_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entity Id"},"document_type":{"anyOf":[{"$ref":"#/components/schemas/ApplicationDocumentType"},{"type":"null"}]}},"type":"object","required":["file"],"title":"Body_upload_media_api_media_upload_post"},"CategoryCount":{"properties":{"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"category_name":{"type":"string","title":"Category Name"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["category_name","count"],"title":"CategoryCount","description":"Complaint-categorycount pair."},"ChangePasswordRequest":{"properties":{"user_id":{"type":"integer","title":"User Id","description":"ID of the user whose password will be changed"},"new_password":{"type":"string","title":"New Password","description":"New password for the user"}},"type":"object","required":["user_id","new_password"],"title":"ChangePasswordRequest","description":"Request schema for changing a user's password."},"CitizenDashboardResponse":{"properties":{"overview":{"$ref":"#/components/schemas/CitizenOverviewStats"},"material_usage":{"items":{"$ref":"#/components/schemas/MaterialUsageSummary"},"type":"array","title":"Material Usage"},"available_quantity":{"items":{"$ref":"#/components/schemas/MaterialAvailableQuantity"},"type":"array","title":"Available Quantity"},"phase_token_usage":{"items":{"$ref":"#/components/schemas/PhaseTokenUsage"},"type":"array","title":"Phase Token Usage"}},"type":"object","required":["overview","material_usage","available_quantity","phase_token_usage"],"title":"CitizenDashboardResponse","description":"Full citizen dashboard payload matching the UI design."},"CitizenOverviewStats":{"properties":{"total_applications":{"type":"integer","title":"Total Applications","description":"Citizen's total applications","default":0},"active_applications":{"type":"integer","title":"Active Applications","description":"Applications still pending approval (not rejected/token-generated)","default":0},"tokens_issued":{"type":"integer","title":"Tokens Issued","description":"Count of phases + renovation tokens issued for citizen's apps","default":0},"total_complaints":{"type":"integer","title":"Total Complaints","description":"Citizen's total complaints","default":0},"closed_complaints":{"type":"integer","title":"Closed Complaints","description":"Citizen's resolved/closed complaints","default":0}},"type":"object","title":"CitizenOverviewStats","description":"Top-level overview cards shown at the top of the citizen dashboard."},"CityProfileCreate":{"properties":{"area_sq_km":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Sq Km"},"no_of_wards":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"No Of Wards"},"ward_boundaries":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ward Boundaries"},"population_estimate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Population Estimate"},"rental_properties_of_corporation":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rental Properties Of Corporation"},"number_of_slums":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number Of Slums"},"solid_waste_per_day":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Solid Waste Per Day"},"street_light_poles":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Street Light Poles"},"employees_in_board":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Employees In Board"},"households_residential":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Residential"},"households_shops_offices":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Shops Offices"},"households_open_plots":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Open Plots"},"birth_registration_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Registration Per Year"},"birth_certificate_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Certificate Per Year"}},"type":"object","title":"CityProfileCreate"},"CityProfileResponse":{"properties":{"id":{"type":"integer","title":"Id"},"area_sq_km":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Sq Km"},"no_of_wards":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"No Of Wards"},"ward_boundaries":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ward Boundaries"},"population_estimate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Population Estimate"},"rental_properties_of_corporation":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rental Properties Of Corporation"},"number_of_slums":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number Of Slums"},"solid_waste_per_day":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Solid Waste Per Day"},"street_light_poles":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Street Light Poles"},"employees_in_board":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Employees In Board"},"households_residential":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Residential"},"households_shops_offices":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Shops Offices"},"households_open_plots":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Open Plots"},"birth_registration_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Registration Per Year"},"birth_certificate_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Certificate Per Year"},"created_by_id":{"type":"integer","title":"Created By Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","area_sq_km","no_of_wards","ward_boundaries","population_estimate","rental_properties_of_corporation","number_of_slums","solid_waste_per_day","street_light_poles","employees_in_board","households_residential","households_shops_offices","households_open_plots","birth_registration_per_year","birth_certificate_per_year","created_by_id"],"title":"CityProfileResponse"},"CityProfileUpdate":{"properties":{"area_sq_km":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Sq Km"},"no_of_wards":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"No Of Wards"},"ward_boundaries":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ward Boundaries"},"population_estimate":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Population Estimate"},"rental_properties_of_corporation":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rental Properties Of Corporation"},"number_of_slums":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number Of Slums"},"solid_waste_per_day":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Solid Waste Per Day"},"street_light_poles":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Street Light Poles"},"employees_in_board":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Employees In Board"},"households_residential":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Residential"},"households_shops_offices":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Shops Offices"},"households_open_plots":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Households Open Plots"},"birth_registration_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Registration Per Year"},"birth_certificate_per_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Birth Certificate Per Year"}},"type":"object","title":"CityProfileUpdate"},"CommentCreateRequest":{"properties":{"comment":{"type":"string","minLength":1,"title":"Comment"},"media_keys":{"items":{"type":"string"},"type":"array","title":"Media Keys","description":"Attached media keys"}},"type":"object","required":["comment"],"title":"CommentCreateRequest"},"CommentRequest":{"properties":{"comment":{"type":"string","title":"Comment","description":"Comment"},"comment_type":{"$ref":"#/components/schemas/CommentType","description":"Type of comment","default":"GENERAL"},"media_paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Media Paths","description":"Optional media/file paths attached to the comment"}},"type":"object","required":["comment"],"title":"CommentRequest"},"CommentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"application_id":{"type":"integer","title":"Application Id"},"comment":{"type":"string","title":"Comment"},"comment_by":{"type":"integer","title":"Comment By"},"commenter_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Commenter Name"},"comment_type":{"anyOf":[{"$ref":"#/components/schemas/CommentType"},{"type":"null"}],"default":"GENERAL"},"media_paths":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Media Paths"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","application_id","comment","comment_by"],"title":"CommentResponse","description":"Response schema for application comments."},"CommentType":{"type":"string","enum":["GENERAL","DEPT_REVIEW","OBJECTION_RESPONSE","INSPECTION_REMARK"],"title":"CommentType","description":"Types of comments on an application."},"ComplaintCategoryCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the Category"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description"},"status":{"type":"boolean","title":"Status","description":"Active Status","default":true}},"type":"object","required":["name"],"title":"ComplaintCategoryCreate"},"ComplaintCategoryResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"type":"boolean","title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"created_by":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]}},"type":"object","required":["id","name","description","status"],"title":"ComplaintCategoryResponse"},"ComplaintCategoryUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Status"}},"type":"object","title":"ComplaintCategoryUpdate"},"ComplaintCreateRequest":{"properties":{"title":{"type":"string","minLength":5,"title":"Title","description":"Complaint Title"},"description":{"type":"string","minLength":10,"title":"Description","description":"Detailed Description"},"ward_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ward Id"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"applicant_name":{"type":"string","title":"Applicant Name","description":"Name of applicant"},"applicant_mobile":{"type":"string","pattern":"^\\+?[1-9]\\d{1,14}$","title":"Applicant Mobile","description":"Mobile number"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"location_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Address"},"media_keys":{"items":{"type":"string"},"type":"array","title":"Media Keys","description":"List of S3 keys from presigned upload"}},"type":"object","required":["title","description","applicant_name","applicant_mobile"],"title":"ComplaintCreateRequest"},"ComplaintListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ComplaintResponse"},"type":"array","title":"Items","default":[]},"total":{"type":"integer","title":"Total","default":0},"offset":{"type":"integer","title":"Offset","default":0},"limit":{"type":"integer","title":"Limit","default":10}},"type":"object","title":"ComplaintListResponse"},"ComplaintMediaAddRequest":{"properties":{"media_keys":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Media Keys","description":"List of media keys to add"}},"type":"object","required":["media_keys"],"title":"ComplaintMediaAddRequest"},"ComplaintResponse":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"status":{"$ref":"#/components/schemas/ComplaintStatus"},"ward_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ward Id"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"applicant_name":{"type":"string","title":"Applicant Name"},"applicant_mobile":{"type":"string","title":"Applicant Mobile"},"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude"},"location_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Address"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"media":{"items":{"$ref":"#/components/schemas/MediaResponse"},"type":"array","title":"Media","default":[]},"comments":{"items":{"$ref":"#/components/schemas/backend__schemas__response__complaint__CommentResponse"},"type":"array","title":"Comments","default":[]}},"type":"object","required":["id","user_id","title","description","status","ward_id","department_id","category_id","applicant_name","applicant_mobile","latitude","longitude","location_address"],"title":"ComplaintResponse"},"ComplaintRow":{"properties":{"complaint_id":{"type":"integer","title":"Complaint Id"},"title":{"type":"string","title":"Title"},"category_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category Name"},"status":{"type":"string","title":"Status"},"applicant_name":{"type":"string","title":"Applicant Name"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["complaint_id","title","status","applicant_name"],"title":"ComplaintRow","description":"Compact complaint record for complaint list table."},"ComplaintStatus":{"type":"string","enum":["PENDING","IN_PROGRESS","RESOLVED","WITHHELD","REJECTED","WITHDRAWN"],"title":"ComplaintStatus"},"CreateUserRequest":{"properties":{"mobile":{"type":"string","title":"Mobile","description":"User's mobile number"},"name":{"type":"string","title":"Name","description":"User's full name"},"role":{"$ref":"#/components/schemas/UserRole","description":"User's role in the system"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Optional password for the user"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username","description":"Optional username for the user"}},"type":"object","required":["mobile","name","role"],"title":"CreateUserRequest","description":"Request schema for creating a new user."},"DepartmentCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the Department"},"code":{"type":"string","title":"Code","description":"Unique Code"},"type":{"type":"string","title":"Type","description":"Type of Department"},"status":{"type":"boolean","title":"Status","description":"Active Status","default":true}},"type":"object","required":["name","code","type"],"title":"DepartmentCreate"},"DepartmentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"code":{"type":"string","title":"Code"},"type":{"type":"string","title":"Type"},"status":{"type":"boolean","title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"created_by":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]}},"type":"object","required":["id","name","code","type","status"],"title":"DepartmentResponse"},"DepartmentUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"status":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Status"}},"type":"object","title":"DepartmentUpdate"},"DocumentUploadResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Success message"},"path":{"type":"string","title":"Path","description":"Path where document was uploaded"}},"type":"object","required":["message","path"],"title":"DocumentUploadResponse","description":"Response after uploading a document."},"DownloadResponse":{"properties":{"id":{"type":"integer","title":"Id"},"document_title":{"type":"string","title":"Document Title"},"document_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Type"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"file_path":{"type":"string","title":"File Path","description":"S3 key or storage path"},"file_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Url"},"status":{"$ref":"#/components/schemas/DownloadStatus"},"uploaded_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Uploaded By"},"uploaded_on":{"type":"string","format":"date-time","title":"Uploaded On"}},"type":"object","required":["id","document_title","document_type","department_id","description","file_path","file_url","status","uploaded_by","uploaded_on"],"title":"DownloadResponse"},"DownloadStatus":{"type":"string","enum":["ACTIVE","INACTIVE"],"title":"DownloadStatus"},"DownloadUpdate":{"properties":{"document_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Title"},"document_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Type"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/DownloadStatus"},{"type":"null"}]}},"type":"object","title":"DownloadUpdate"},"DownloadsListResponse":{"properties":{"downloads":{"items":{"$ref":"#/components/schemas/DownloadResponse"},"type":"array","title":"Downloads","default":[]},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["total"],"title":"DownloadsListResponse"},"EntriesByNaka":{"properties":{"user_id":{"type":"integer","title":"User Id"},"user_name":{"type":"string","title":"User Name"},"entry_count":{"type":"integer","title":"Entry Count"}},"type":"object","required":["user_id","user_name","entry_count"],"title":"EntriesByNaka","description":"Entries count per naka user (for bar chart)."},"EventCreate":{"properties":{"title":{"type":"string","title":"Title","description":"Title of the event"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type","description":"Type/category of event"},"date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date","description":"Date/time of event"},"venue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venue","description":"Venue of the event"},"status":{"anyOf":[{"$ref":"#/components/schemas/TenderStatus"},{"type":"null"}],"default":"ACTIVE"}},"type":"object","required":["title"],"title":"EventCreate"},"EventResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date"},"venue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venue"},"status":{"$ref":"#/components/schemas/TenderStatus"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","title","event_type","date","venue","status","created_by"],"title":"EventResponse"},"EventUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date"},"venue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venue"},"status":{"anyOf":[{"$ref":"#/components/schemas/TenderStatus"},{"type":"null"}]}},"type":"object","title":"EventUpdate"},"EventsListResponse":{"properties":{"events":{"items":{"$ref":"#/components/schemas/EventResponse"},"type":"array","title":"Events","default":[]},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["total"],"title":"EventsListResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InspectionReportCreate":{"properties":{"latitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latitude","description":"GPS Latitude"},"longitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Longitude","description":"GPS Longitude"},"remarks":{"type":"string","minLength":5,"title":"Remarks","description":"Inspection remarks"},"media_paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Media Paths","description":"Media/photo paths from inspection"},"recommended_phases":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":1.0},{"type":"null"}],"title":"Recommended Phases","description":"JEN's recommended number of phases"},"phase_materials":{"anyOf":[{"items":{"$ref":"#/components/schemas/PhaseMaterialEntry"},"type":"array"},{"type":"null"}],"title":"Phase Materials","description":"Recommended materials per phase"}},"type":"object","required":["remarks"],"title":"InspectionReportCreate","description":"JEN creates an inspection report."},"JenApplicationRow":{"properties":{"application_id":{"type":"integer","title":"Application Id"},"applicant_name":{"type":"string","title":"Applicant Name"},"application_type":{"type":"string","title":"Application Type"},"status":{"type":"string","title":"Status"},"inspected":{"type":"boolean","title":"Inspected","default":false}},"type":"object","required":["application_id","applicant_name","application_type","status"],"title":"JenApplicationRow","description":"Compact application record for JEN's latest-applications table."},"KpiCard":{"properties":{"label":{"type":"string","title":"Label"},"value":{"type":"integer","title":"Value","default":0},"previous_value":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Previous Value"},"percent_change":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Percent Change","description":"Percentage change vs previous period"}},"type":"object","required":["label"],"title":"KpiCard","description":"A single KPI card with optional period-over-period comparison."},"LeaderCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Leader name"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation","description":"Designation / title"},"tenure_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure Start"},"tenure_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure End"},"status":{"anyOf":[{"$ref":"#/components/schemas/NoticeStatus"},{"type":"null"}],"default":"ACTIVE"}},"type":"object","required":["name"],"title":"LeaderCreate"},"LeaderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation"},"tenure_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure Start"},"tenure_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure End"},"status":{"$ref":"#/components/schemas/NoticeStatus"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","name","designation","tenure_start","tenure_end","status","created_by"],"title":"LeaderResponse"},"LeaderUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation"},"tenure_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure Start"},"tenure_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Tenure End"},"status":{"anyOf":[{"$ref":"#/components/schemas/NoticeStatus"},{"type":"null"}]}},"type":"object","title":"LeaderUpdate"},"LeadersListResponse":{"properties":{"leaders":{"items":{"$ref":"#/components/schemas/LeaderResponse"},"type":"array","title":"Leaders","default":[]},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["total"],"title":"LeadersListResponse"},"LoginRequest":{"properties":{"mobile":{"type":"string","pattern":"^\\d{10}$","title":"Mobile"},"otp":{"type":"string","title":"Otp"}},"type":"object","required":["mobile","otp"],"title":"LoginRequest"},"MaterialAvailableQuantity":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"material_name":{"type":"string","title":"Material Name"},"unit":{"type":"string","title":"Unit"},"available_quantity":{"type":"integer","title":"Available Quantity","description":"Remaining permitted quantity","default":0}},"type":"object","required":["material_id","material_name","unit"],"title":"MaterialAvailableQuantity","description":"Remaining available quantity per material (permitted - used)."},"MaterialBar":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"material_name":{"type":"string","title":"Material Name"},"unit":{"type":"string","title":"Unit"},"approved_quantity":{"type":"integer","title":"Approved Quantity","default":0},"used_quantity":{"type":"integer","title":"Used Quantity","default":0}},"type":"object","required":["material_id","material_name","unit"],"title":"MaterialBar","description":"Material approved vs used (for bar chart)."},"MaterialCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Material Name"},"unit":{"type":"string","title":"Unit","description":"Unit (e.g., kg, bags)"}},"type":"object","required":["name","unit"],"title":"MaterialCreate"},"MaterialResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"unit":{"type":"string","title":"Unit"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"created_by":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]}},"type":"object","required":["id","name","unit"],"title":"MaterialResponse"},"MaterialUsageSummary":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"material_name":{"type":"string","title":"Material Name"},"unit":{"type":"string","title":"Unit"},"permitted_quantity":{"type":"integer","title":"Permitted Quantity","description":"Total permitted across phase-materials","default":0},"used_quantity":{"type":"integer","title":"Used Quantity","description":"Total brought in via naka entries","default":0},"usage_percent":{"type":"number","title":"Usage Percent","description":"used / permitted * 100","default":0.0}},"type":"object","required":["material_id","material_name","unit"],"title":"MaterialUsageSummary","description":"Permitted vs. used quantities per material for the citizen's applications."},"MeResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"name":{"type":"string","title":"Name"},"mobile":{"type":"string","title":"Mobile"},"role":{"type":"string","title":"Role"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"}},"type":"object","required":["user_id","name","mobile","role"],"title":"MeResponse"},"MediaCategory":{"type":"string","enum":["APPLICATION","COMPLAINT","NOTICE","EVENT","TENDER","DOWNLOAD","LEADER","GENERAL"],"title":"MediaCategory","description":"Category/entity type a media upload belongs to."},"MediaResponse":{"properties":{"id":{"type":"integer","title":"Id"},"media_path":{"type":"string","title":"Media Path"},"media_type":{"type":"string","title":"Media Type"},"is_initial":{"type":"boolean","title":"Is Initial"},"access_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Url"}},"type":"object","required":["id","media_path","media_type","is_initial"],"title":"MediaResponse"},"MediaUploadResponse":{"properties":{"object_key":{"type":"string","title":"Object Key"},"access_url":{"type":"string","title":"Access Url"},"message":{"type":"string","title":"Message","default":"File uploaded successfully"}},"type":"object","required":["object_key","access_url"],"title":"MediaUploadResponse"},"MessageResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse"},"NakaEntryCreate":{"properties":{"material_id":{"type":"integer","title":"Material Id","description":"Material ID"},"quantity_brought":{"type":"integer","minimum":1.0,"title":"Quantity Brought","description":"Quantity brought"},"vehicle_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vehicle Number","description":"Vehicle number"},"remarks":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remarks","description":"Remarks"},"media_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Path","description":"Photo/media path"}},"type":"object","required":["material_id","quantity_brought"],"title":"NakaEntryCreate","description":"Naka incharge logs materials brought at checkpoint."},"NakaEntryRow":{"properties":{"naka_entry_id":{"type":"integer","title":"Naka Entry Id"},"application_id":{"type":"integer","title":"Application Id"},"vehicle_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vehicle Number"},"material_name":{"type":"string","title":"Material Name"},"quantity_brought":{"type":"integer","title":"Quantity Brought"},"entry_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Entry At"}},"type":"object","required":["naka_entry_id","application_id","material_name","quantity_brought"],"title":"NakaEntryRow","description":"Vehicle entry row for Naka Incharge table."},"NakaMaterialSummary":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"material_name":{"type":"string","title":"Material Name"},"unit":{"type":"string","title":"Unit"},"allowed_qty":{"type":"integer","title":"Allowed Qty"},"brought_qty":{"type":"integer","title":"Brought Qty"},"remaining_qty":{"type":"integer","title":"Remaining Qty"}},"type":"object","required":["material_id","material_name","unit","allowed_qty","brought_qty","remaining_qty"],"title":"NakaMaterialSummary","description":"Per-material summary for a phase at the naka checkpoint."},"NakaPhaseResponse":{"properties":{"transport_code":{"type":"string","title":"Transport Code"},"phase":{"type":"integer","title":"Phase"},"phase_status":{"$ref":"#/components/schemas/ApplicationPhaseStatus"},"materials":{"items":{"$ref":"#/components/schemas/NakaMaterialSummary"},"type":"array","title":"Materials"},"vehicle_entries":{"items":{"$ref":"#/components/schemas/VehicleEntryResponse"},"type":"array","title":"Vehicle Entries","default":[]}},"type":"object","required":["transport_code","phase","phase_status","materials"],"title":"NakaPhaseResponse","description":"Phase-level material summary shown to NAKA incharge. No PII."},"NoticeCreate":{"properties":{"title":{"type":"string","title":"Title","description":"Title of the notice"},"notice_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notice Type","description":"Type/category of notice"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On","description":"When it was published"},"valid_till":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Till","description":"Valid until date/time"},"status":{"anyOf":[{"$ref":"#/components/schemas/NoticeStatus"},{"type":"null"}],"description":"Status - ACTIVE/EXPIRED/INACTIVE","default":"ACTIVE"},"visibility":{"anyOf":[{"$ref":"#/components/schemas/Visibility"},{"type":"null"}],"description":"Visibility - PUBLIC/INTERNAL","default":"PUBLIC"}},"type":"object","required":["title"],"title":"NoticeCreate"},"NoticeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"notice_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notice Type"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On"},"valid_till":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Till"},"status":{"$ref":"#/components/schemas/NoticeStatus"},"visibility":{"$ref":"#/components/schemas/Visibility"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","title","notice_type","published_on","valid_till","status","visibility","created_by"],"title":"NoticeResponse"},"NoticeStatus":{"type":"string","enum":["ACTIVE","EXPIRED","INACTIVE"],"title":"NoticeStatus"},"NoticeUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"notice_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notice Type"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On"},"valid_till":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Till"},"status":{"anyOf":[{"$ref":"#/components/schemas/NoticeStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/Visibility"},{"type":"null"}]}},"type":"object","title":"NoticeUpdate"},"NoticesListResponse":{"properties":{"notices":{"items":{"$ref":"#/components/schemas/NoticeResponse"},"type":"array","title":"Notices","default":[]},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["total"],"title":"NoticesListResponse"},"OTPRequest":{"properties":{"mobile":{"type":"string","pattern":"^\\d{10}$","title":"Mobile"}},"type":"object","required":["mobile"],"title":"OTPRequest"},"PasswordLoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"PasswordLoginRequest"},"PhaseMaterialEntry":{"properties":{"phase":{"type":"integer","minimum":1.0,"title":"Phase","description":"Phase number"},"material_id":{"type":"integer","title":"Material Id","description":"Material ID"},"quantity":{"type":"integer","minimum":1.0,"title":"Quantity","description":"Permitted quantity for this phase"}},"type":"object","required":["phase","material_id","quantity"],"title":"PhaseMaterialEntry","description":"Material allocation for a specific phase during token generation."},"PhaseResponse":{"properties":{"id":{"type":"integer","title":"Id"},"application_id":{"type":"integer","title":"Application Id"},"phase":{"type":"integer","title":"Phase"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"status":{"$ref":"#/components/schemas/ApplicationPhaseStatus"},"activated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Activated At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"transport_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transport Code"}},"type":"object","required":["id","application_id","phase","status"],"title":"PhaseResponse","description":"Response schema for application phases."},"PhaseTokenUsage":{"properties":{"phase_status":{"type":"string","title":"Phase Status"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["phase_status","count"],"title":"PhaseTokenUsage","description":"Count of citizen's phases grouped by phase status."},"PresignedUrlRequest":{"properties":{"filename":{"type":"string","title":"Filename","description":"Name of the file to upload"},"content_type":{"type":"string","title":"Content Type","description":"MIME type of the file"},"category":{"type":"string","title":"Category","description":"Category: 'application' or 'complaint'"},"entity_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entity Id","description":"ID of existing entity. If None, assumes new entity (temp path)."}},"type":"object","required":["filename","content_type","category"],"title":"PresignedUrlRequest"},"PresignedUrlResponse":{"properties":{"upload_url":{"type":"string","title":"Upload Url"},"object_key":{"type":"string","title":"Object Key"},"access_url":{"type":"string","title":"Access Url"}},"type":"object","required":["upload_url","object_key","access_url"],"title":"PresignedUrlResponse"},"PropertyUsageType":{"type":"string","enum":["DOMESTIC","COMMERCIAL","HOTEL"],"title":"PropertyUsageType"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"The refresh token to exchange for a new access token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest"},"RefreshTokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"RefreshTokenResponse"},"RoleCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the Role"},"code":{"type":"string","title":"Code","description":"Unique Code"},"permissions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Permissions","description":"Permissions (JSON/CSV)"},"status":{"type":"boolean","title":"Status","description":"Active Status","default":true}},"type":"object","required":["name","code"],"title":"RoleCreate"},"RoleResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"code":{"type":"string","title":"Code"},"permissions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Permissions"},"status":{"type":"boolean","title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"created_by":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]}},"type":"object","required":["id","name","code","permissions","status"],"title":"RoleResponse"},"RoleUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"permissions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Permissions"},"status":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Status"}},"type":"object","title":"RoleUpdate"},"SetupSuperAdminRequest":{"properties":{"username":{"type":"string","title":"Username","description":"Username for the superadmin"},"password":{"type":"string","title":"Password","description":"Password for the superadmin"},"mobile":{"type":"string","title":"Mobile","description":"Mobile number for the superadmin","default":"0000000000"}},"type":"object","required":["username","password"],"title":"SetupSuperAdminRequest","description":"Request schema for initial superadmin setup."},"StatusCount":{"properties":{"status":{"type":"string","title":"Status"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["status","count"],"title":"StatusCount","description":"Generic statuscount pair."},"SuccessResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message","description":"Success message"}},"type":"object","title":"SuccessResponse","description":"Generic success response."},"TenderCreate":{"properties":{"title":{"type":"string","title":"Title","description":"Title of the tender"},"tender_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tender Type","description":"Type/category of tender"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id","description":"Department id"},"amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount","description":"Tender amount"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On"},"submission_deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submission Deadline"},"status":{"anyOf":[{"$ref":"#/components/schemas/TenderStatus"},{"type":"null"}],"default":"ACTIVE"}},"type":"object","required":["title"],"title":"TenderCreate"},"TenderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"tender_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tender Type"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On"},"submission_deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submission Deadline"},"status":{"$ref":"#/components/schemas/TenderStatus"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","title","tender_type","department_id","amount","published_on","submission_deadline","status","created_by"],"title":"TenderResponse"},"TenderStatus":{"type":"string","enum":["ACTIVE","EXPIRED","CANCELLED","CLOSED"],"title":"TenderStatus"},"TenderUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"tender_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tender Type"},"department_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Department Id"},"amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount"},"published_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Published On"},"submission_deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submission Deadline"},"status":{"anyOf":[{"$ref":"#/components/schemas/TenderStatus"},{"type":"null"}]}},"type":"object","title":"TenderUpdate"},"TendersListResponse":{"properties":{"tenders":{"items":{"$ref":"#/components/schemas/TenderResponse"},"type":"array","title":"Tenders","default":[]},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["total"],"title":"TendersListResponse"},"TokenAuthorityInfo":{"properties":{"issued_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issued By"},"issued_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Issued On"},"token_generated_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token Generated From"}},"type":"object","title":"TokenAuthorityInfo","description":"Authority / system information shown on the token detail page."},"TokenDetailResponse":{"properties":{"transport_code":{"type":"string","title":"Transport Code"},"token_number":{"type":"string","title":"Token Number"},"status":{"$ref":"#/components/schemas/ApplicationPhaseStatus"},"valid_from":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid From"},"valid_till":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Till"},"application_id":{"type":"integer","title":"Application Id"},"application_number":{"type":"string","title":"Application Number"},"applicant_name":{"type":"string","title":"Applicant Name"},"property_address":{"type":"string","title":"Property Address"},"property_usage":{"$ref":"#/components/schemas/PropertyUsageType"},"application_type":{"$ref":"#/components/schemas/ApplicationType"},"authority":{"$ref":"#/components/schemas/TokenAuthorityInfo"},"materials":{"items":{"$ref":"#/components/schemas/TokenMaterialResponse"},"type":"array","title":"Materials","default":[]},"remaining_quantity_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Remaining Quantity Pct"},"vehicle_entries":{"items":{"$ref":"#/components/schemas/backend__schemas__response__application__VehicleEntryResponse"},"type":"array","title":"Vehicle Entries","default":[]}},"type":"object","required":["transport_code","token_number","status","application_id","application_number","applicant_name","property_address","property_usage","application_type","authority"],"title":"TokenDetailResponse","description":"Full token detail returned for GET /tokens/{transport_code}.\n\nMaps to the \"Token Details\" screen that shows:\n- Header: token_number, status, date range\n- Left panel: QR/application info\n- Vehicle Entries tab\n- Material Summary tab"},"TokenMaterialResponse":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"material_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Name"},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"},"approved_quantity":{"type":"integer","title":"Approved Quantity"},"consumed_quantity":{"type":"integer","title":"Consumed Quantity"},"remaining_quantity":{"type":"integer","title":"Remaining Quantity"}},"type":"object","required":["material_id","approved_quantity","consumed_quantity","remaining_quantity"],"title":"TokenMaterialResponse","description":"Per-material summary within a token (phase)."},"TokenResponse":{"properties":{"transport_code":{"type":"string","title":"Transport Code"},"token_number":{"type":"string","title":"Token Number"},"application_number":{"type":"string","title":"Application Number"},"remaining_quantity_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Remaining Quantity Pct"},"valid_till":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Valid Till"},"status":{"$ref":"#/components/schemas/ApplicationPhaseStatus"}},"type":"object","required":["transport_code","token_number","application_number","status"],"title":"TokenResponse","description":"Lightweight token for the token-list table.\n\nOnly the 5 columns shown in the listing screen + transport_code\n(the unique token identifier used in URLs)."},"TokenUtilizationRow":{"properties":{"application_id":{"type":"integer","title":"Application Id"},"applicant_name":{"type":"string","title":"Applicant Name"},"phase":{"type":"integer","title":"Phase"},"phase_status":{"type":"string","title":"Phase Status"},"material_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Name"},"permitted_quantity":{"type":"integer","title":"Permitted Quantity","default":0},"used_quantity":{"type":"integer","title":"Used Quantity","default":0}},"type":"object","required":["application_id","applicant_name","phase","phase_status"],"title":"TokenUtilizationRow","description":"Token utilization row for Nodal Officer table."},"UserCreatedResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Success message"},"user_id":{"type":"integer","title":"User Id","description":"ID of the created user"}},"type":"object","required":["message","user_id"],"title":"UserCreatedResponse","description":"Response after creating a user."},"UserFilter":{"type":"string","enum":["CITIZEN","OFFICIAL"],"title":"UserFilter"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"mobile":{"type":"string","title":"Mobile"},"role":{"$ref":"#/components/schemas/UserRole"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","name","mobile","role"],"title":"UserResponse"},"UserRole":{"type":"string","enum":["SUPERADMIN","NODAL_OFFICER","COMMISSIONER","CITIZEN","NAKA_INCHARGE","DEPT_LAND","DEPT_LEGAL","DEPT_ATP","JEN"],"title":"UserRole"},"UserSummary":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"role":{"type":"string","title":"Role"}},"type":"object","required":["id","name","role"],"title":"UserSummary"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VehicleEntryResponse":{"properties":{"id":{"type":"integer","title":"Id"},"phase":{"type":"integer","title":"Phase"},"vehicle_number":{"type":"string","title":"Vehicle Number"},"driver_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Name"},"driver_mobile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Mobile"},"entry_at":{"type":"string","format":"date-time","title":"Entry At"},"entered_by_user":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]},"remarks":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remarks"},"media_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Path"},"materials":{"items":{"$ref":"#/components/schemas/VehicleMaterialResponse"},"type":"array","title":"Materials"}},"type":"object","required":["id","phase","vehicle_number","driver_name","driver_mobile","entry_at","entered_by_user","remarks","media_path","materials"],"title":"VehicleEntryResponse"},"VehicleMaterialResponse":{"properties":{"id":{"type":"integer","title":"Id"},"material":{"$ref":"#/components/schemas/MaterialResponse"},"quantity":{"type":"number","title":"Quantity"}},"type":"object","required":["id","material","quantity"],"title":"VehicleMaterialResponse"},"Visibility":{"type":"string","enum":["PUBLIC","INTERNAL"],"title":"Visibility"},"WardActivity":{"properties":{"ward_id":{"type":"integer","title":"Ward Id"},"ward_name":{"type":"string","title":"Ward Name"},"applications":{"type":"integer","title":"Applications","default":0},"approved":{"type":"integer","title":"Approved","default":0},"tokens_issued":{"type":"integer","title":"Tokens Issued","default":0},"complaints":{"type":"integer","title":"Complaints","default":0}},"type":"object","required":["ward_id","ward_name"],"title":"WardActivity","description":"Per-ward aggregated counts (for grouped bar chart)."},"WardCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the Ward/Zone"},"code":{"type":"string","title":"Code","description":"Unique Code"},"type":{"type":"string","title":"Type","description":"Type: Ward or Zone"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description"},"status":{"type":"boolean","title":"Status","description":"Active Status","default":true}},"type":"object","required":["name","code","type"],"title":"WardCreate"},"WardResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"code":{"type":"string","title":"Code"},"type":{"type":"string","title":"Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"type":"boolean","title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"created_by":{"anyOf":[{"$ref":"#/components/schemas/UserSummary"},{"type":"null"}]}},"type":"object","required":["id","name","code","type","description","status"],"title":"WardResponse"},"WardUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Status"}},"type":"object","title":"WardUpdate"},"WorkflowAction":{"type":"string","enum":["APPROVE","REJECT","OBJECT","FORWARD","GENERATE_TOKENS","WITHDRAW"],"title":"WorkflowAction","description":"Actions that can be taken on an application."},"WorkflowActionRequest":{"properties":{"action":{"$ref":"#/components/schemas/WorkflowAction","description":"Workflow action to perform"},"remarks":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remarks","description":"Remarks for the action"},"num_stages":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":1.0},{"type":"null"}],"title":"Num Stages","description":"Number of phases/stages for token generation (required for GENERATE_TOKENS)"},"phase_materials":{"anyOf":[{"items":{"$ref":"#/components/schemas/PhaseMaterialEntry"},"type":"array"},{"type":"null"}],"title":"Phase Materials","description":"Materials per phase (required for GENERATE_TOKENS)"}},"type":"object","required":["action"],"title":"WorkflowActionRequest","description":"Request body for workflow actions (approve/reject/object/forward)."},"backend__controllers__auth__TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type"},"role":{"type":"string","title":"Role"},"user_id":{"type":"integer","title":"User Id"},"name":{"type":"string","title":"Name"},"is_new_user":{"type":"boolean","title":"Is New User","default":false}},"type":"object","required":["access_token","refresh_token","token_type","role","user_id","name"],"title":"TokenResponse"},"backend__schemas__response__application__VehicleEntryResponse":{"properties":{"id":{"type":"integer","title":"Id"},"vehicle_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vehicle Number"},"material_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Name"},"material_unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Material Unit"},"quantity_entered":{"type":"integer","title":"Quantity Entered"},"entry_at":{"type":"string","format":"date-time","title":"Entry At"},"remarks":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remarks"},"media_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Path"},"access_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Url"}},"type":"object","required":["id","quantity_entered","entry_at"],"title":"VehicleEntryResponse","description":"A single vehicle / naka entry shown under the Vehicle Entries tab."},"backend__schemas__response__complaint__CommentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"comment":{"type":"string","title":"Comment"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"comment_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Comment By"},"media_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Path"},"access_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Url"}},"type":"object","required":["id","comment"],"title":"CommentResponse"},"backend__schemas__response__meta__MessageResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Response message"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Response with a message."}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}